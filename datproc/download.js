
const download = require('url-download');

//const windList = ['n04530566','n04147183','n02792409','n02737351','n03236423','n03545470','n03981566','n04150273','n04577293','n02792552','n02918455','n02947660','n02964295','n03329663','n03344393','n03447447','n03464628','n03468570','n03603594','n03687820','n03696445','n03703203','n03710079','n02932891','n03647423','n03859170','n03552749','n04273569','n04562122','n03790230','n03939178','n03977592','n04024983','n03609786','n04208760','n04095210','n04150371','n03662601','n04574348','n04158807','n02843029','n03254374','n03609235','n03861430','n02951358','n03061345','n03105306','n04115456','n04577139','n03199901','n03436891','n04038231','n04038338','n04156720','n04190997','n04037964','n04133114','n04229480','n03602081','n04612504','n04244997','n04308807','n04363671','n03436772','n04409128','n04495843','n02858304','n04476116','n03351262','n04485750','n03412511','n03412674','n03556811','n03900194','n02793199','n02901377','n02901620','n03045228','n03154316','n03186285','n03327133','n03381565','n02968210','n03411339','n03567788','n03612010','n04091584','n02981792','n02982416','n04185329','n04483307','n04128499','n04185656','n03626658','n04037298','n04242408','n04244847','n04291992','n04587327','n04612373','n04128837','n02666501','n02853336','n02784124','n02878222','n02986348','n03095699','n03660562','n04359034','n03845190','n02965300','n03356038','n03426871','n03541269','n03548533','n03556992','n03668488','n03768823','n03769100','n03833907','n02933750','n02965216','n03141327','n03698604','n03673027','n03896103','n03112605','n03947888','n04146862','n04197110','n04224543','n04235165','n04245412','n04215800','n04317063','n03874138','n04469684','n04309348','n04409011','n04427473','n04474187','n04477725','n04487894','n02687172','n03236093','n03973003','n02812201','n02956393','n03113035','n02811618','n03466493','n03140900','n04439039','n04457474','n03180504','n03180732','n03466600','n03397266','n03397412','n03465151','n03585551','n04129490','n03718212','n04006067','n04242587','n02755529','n02763198','n03362771','n03811295','n04347754','n04348184','n04363082','n04427376','n04017807','n04457326','n04552696','n03316873','n04574471','n04606251','n04194289','n04210288','n04567746','n04610013'];
const windList = ['n04037298', 'n03947888', 'n03412674', 'n04476116'];
function getUrl(wind) {
	return 'http://image-net.org/download/synset?wnid='+wind+'&username=gkrupp&accesskey=282246df3a7460326d00294c4f407c9da6da6b33&release=latest&src=stanford';
}

const list = windList.map(getUrl);
let done = 0;

download(list, './files', {}, windList)
.on('invalid', function(e) {
	console.log('[ INV ]', e.url);
})
.on('error', function(e) {
	console.log('[ ERR ]', e.url);
})
.on('close', function(err, url) {
	done++;
	if (err) {
		console.log('[ CLS ]', err);
	} else {
		console.log('[ OK ]', [list.length,'/',done].join(''), url);
	}
})
.on('done', function() {
	console.log('[ OK ] done');
});



